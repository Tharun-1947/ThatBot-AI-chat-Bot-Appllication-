/* frontend/src/App.css (Complete) */

/* 1. Global Styles & Variables */
:root {
  --background-color: #1a1a2e;
  --header-color: #16213e;
  --chat-window-bg: #1f2847;
  --user-message-bg: #0f3460;
  --bot-message-bg: #3a3a5a;
  --text-primary: #e3e3e3;
  --text-secondary: #a7a7a7;
  --accent-color: #5372f0;
  --accent-color-dark: #4561d3;
  --border-color: #404066;
  --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --border-radius: 18px;
  --transition-speed: 0.2s;
}

body {
  margin: 0;
  font-family: var(--font-family);
  background-color: var(--background-color);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 2. Main App Layout */
.App {
  display: flex;
  flex-direction: column;
  height: 100vh;
  text-align: center;
}

.App-header {
  background-color: var(--header-color);
  padding: 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  border-bottom: 1px solid var(--border-color);
  z-index: 10;
}

.App-header h1 {
  margin: 0;
  font-size: 1.5rem;
  letter-spacing: 1px;
}

.chat-window {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
  background-color: var(--chat-window-bg);
  overflow: hidden;
}

/* 3. Messages Area */
.messages {
  flex-grow: 1;
  padding: 24px 16px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.messages::-webkit-scrollbar { width: 8px; }
.messages::-webkit-scrollbar-track { background: transparent; }
.messages::-webkit-scrollbar-thumb { background: #404066; border-radius: 4px; }
.messages::-webkit-scrollbar-thumb:hover { background: #53537a; }

/* 4. Message Bubble Styling */
.message {
  display: flex;
  flex-direction: column; /* Allow image and text to stack */
  max-width: 75%;
  animation: fadeIn 0.3s ease-in-out;
}

.message p {
  margin: 0;
  padding: 12px 16px;
  line-height: 1.5;
  word-wrap: break-word;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

.message.user { align-self: flex-end; }
.message.user p { background-color: var(--user-message-bg); color: #fff; border-radius: var(--border-radius) var(--border-radius) 4px var(--border-radius); }
.message.bot { align-self: flex-start; }
.message.bot p { background-color: var(--bot-message-bg); border-radius: var(--border-radius) var(--border-radius) var(--border-radius) 4px; }

.message-image {
  max-width: 100%;
  border-radius: var(--border-radius);
  margin-bottom: 8px;
  border: 2px solid var(--border-color);
}
.message.bot .message-image { display: none; } /* Bots don't send images in this app */


.message.bot i { display: inline-block; animation: pulsate 1.5s infinite; }
@keyframes pulsate { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* 5. File Preview Styling */
.file-preview {
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
  border-top: 1px solid var(--border-color);
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}
.file-preview img { max-width: 80px; max-height: 80px; border-radius: 8px; border: 2px solid var(--accent-color); }
.file-preview button { position: absolute; top: 8px; right: calc(50% - 60px); background: rgba(0, 0, 0, 0.7); color: white; border: none; border-radius: 50%; cursor: pointer; width: 24px; height: 24px; font-size: 14px; line-height: 24px; text-align: center; transition: background-color var(--transition-speed); }
.file-preview button:hover { background-color: #e53935; }

/* 6. Input Area Styling */
.input-area { display: flex; padding: 12px; border-top: 1px solid var(--border-color); background-color: var(--header-color); align-items: center; gap: 12px; }
.input-area textarea { flex-grow: 1; padding: 12px 18px; border: none; border-radius: 22px; background-color: var(--bot-message-bg); color: var(--text-primary); font-size: 1rem; resize: none; font-family: inherit; line-height: 1.4; max-height: 100px; overflow-y: auto; transition: box-shadow var(--transition-speed); }
.input-area textarea:focus { outline: none; box-shadow: 0 0 0 2px var(--accent-color); }

.icon-button, .send-button { background: none; border: none; cursor: pointer; font-size: 1.4rem; color: var(--text-secondary); padding: 8px; display: flex; align-items: center; justify-content: center; transition: color var(--transition-speed), transform var(--transition-speed); }
.icon-button:hover, .send-button:hover { color: var(--accent-color); transform: scale(1.1); }
.send-button { background-color: var(--accent-color); color: white; border-radius: 50%; width: 44px; height: 44px; }
.send-button:hover { background-color: var(--accent-color-dark); color: white; }
.send-button:disabled { background-color: var(--bot-message-bg); color: #6a6a8b; cursor: not-allowed; transform: scale(1); }
.icon-button:disabled { color: #6a6a8b; cursor: not-allowed; }

.icon-button.listening { color: #ff5252; animation: pulse-red 1.5s infinite; border-radius: 50%;}
@keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(255, 82, 82, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 82, 82, 0); } }

/* 7. NEW: Styles for Status Messages */
.status-message {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-grow: 1;
  font-size: 1.2rem;
  color: var(--text-secondary);
  padding: 2rem;
}

.status-message.error {
  color: #ff5252;
}